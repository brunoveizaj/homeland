<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

	<h:form id="vehicle_view_form">
		<f:event type="preRenderComponent" listener="#{vehicleViewBean.init()}" />


		<div class="ui-g">

			<div class="ui-g-12">
				<p:commandButton action="#{nav.back()}" value="Mbrapa"
					process="@this" update=":main" styleClass="black-cl-btn"
					icon="fa fa-arrow-left" />
			</div>


			<div class="ui-g-12 ui-fluid">
				<p:messages showDetail="true" closable="true">
					<p:autoUpdate />
				</p:messages>
			</div>

			<div class="ui-g-12 ui-fluid">

				<p:panel header="Të dhënat e automjetit" styleClass="blue-pnl">

					<p:panelGrid layout="grid" columns="4"
						columnClasses="bold,empty,bold,empty"
						styleClass="ui-panelgrid-blank">
						
					</p:panelGrid>
				</p:panel>

			</div>

			

			<div class="ui-g-12 ui-fluid">
				<p:dataTable value="#{personViewBean.family}" var="f"
					styleClass="blue-tbl" selection="#{personViewBean.familyMember}"
					selectionMode="single" rowIndexVar="r" rowKey="#{f.id}"
					reflow="true">

					<p:ajax event="rowSelect"
						listener="#{personViewBean.onFamilySelect()}" update="@form" />

				<f:facet name="header">
                    Historiku automjetit
                </f:facet>
					<p:column headerText="#">
                    #{r+1}
                </p:column>
					<p:column headerText="NID">
                    #{f.nid}
                </p:column>
					<p:column headerText="Emri">
                    #{f.name} 
                </p:column>
					<p:column headerText="Atësia">
                    #{f.fatherName}
                </p:column>
					<p:column headerText="Mbiemri">
                    #{f.surname}
                </p:column>
					<p:column headerText="Datëlindja">
                    #{f.dob}
                </p:column>
					<p:column headerText="Vendlindja">
                    #{f.pob}
                </p:column>
					<p:column headerText="L.F">
                    #{f.familyRelation}
                </p:column>
					<p:column headerText="Statusi">
                    #{f.civilStatus}
                </p:column>
					<p:column headerText="Gjinia">
                    #{f.gender}
                </p:column>
				</p:dataTable>
			</div>

			


			<div class="ui-g-12 ui-fluid">
				<p:dataTable value="#{personViewBean.tatime}" var="t"
					rowIndexVar="r" reflow="true" emptyMessage="I pa punë"
					styleClass="blue-tbl">

				<f:facet name="header">
                    Gjobat
                </f:facet>
					<p:column headerText="#">
                    #{r+1}
                </p:column>
					<p:column headerText="NIPT">
                    #{t.nipt}
                </p:column>
					<p:column headerText="Subjekti">
						<p:commandLink value="#{t.subject}"
							action="#{personBean.onNavSubjectSelect(t.nipt)}" />
					</p:column>
					<p:column headerText="Pozicioni">
                    #{t.profession}
                </p:column>
					<p:column headerText="Paga">
                    #{t.salary}
                </p:column>
					<p:column headerText="Viti">
                    #{t.year}
                </p:column>
					<p:column headerText="Muaji">
                    #{t.month}
                </p:column>
				</p:dataTable>
			</div>

			<div class="ui-g-12 ui-fluid">
				<p:dataTable value="#{personViewBean.borders}" var="b"
					rowIndexVar="r" reflow="true" emptyMessage="Nuk ka hyrje-dalje"
					styleClass="blue-tbl">

					<f:facet name="header">
                    Hyrje - Dalje
                </f:facet>
					<p:column headerText="#">
                    #{r+1}
                </p:column>
					<p:column headerText="Eventi">
                    #{b.event}
                </p:column>
					<p:column headerText="Data">
                    #{b.crossingDate}
                </p:column>
					<p:column headerText="Pika kufitare">
					#{b.crossingGate}
				</p:column>
					<p:column headerText="Linja">
                    #{b.travel}
                </p:column>
					<p:column headerText="Dokumenti">
                    #{b.docNo} (b.docState)
                </p:column>
					<p:column headerText="Kategoria">
                    #{b.citizenType}
                </p:column>
					<p:column headerText="Targa">
                    #{b.plate}
                </p:column>
					<p:column headerText="Shofer">
                    #{b.driver}
                </p:column>
					<p:column headerText="Qëlimi">
                    #{b.purpose}
                </p:column>
				</p:dataTable>
			</div>




			
		</div>

	</h:form>


</ui:composition>
